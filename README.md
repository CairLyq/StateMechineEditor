# 状态机编辑器 State Machine Editor

一个专业级的状态机/分层状态机编辑器，提供直观的可视化界面、流畅的交互体验和丰富的功能集。

## 功能特性

### 🎨 直观的可视化界面
- 清晰的视觉层次和布局设计
- 状态节点使用简洁的圆形图形表示
- 转换关系用带箭头的曲线连接
- 中英文混用的友好界面

### 🛠️ 丰富的编辑功能
- **状态管理**：创建、编辑、删除状态节点
- **转换管理**：定义状态间的转换关系
- **拖拽操作**：支持状态节点的自由拖拽
- **双击编辑**：双击状态或转换进行快速编辑
- **颜色自定义**：为状态节点选择不同颜色

### 🎮 模拟运行
- 设置初始状态和终止状态
- 实时触发事件进行状态转换
- 当前状态高亮显示
- 模拟历史记录追踪

### 🎯 交互体验
- 平滑的动画过渡效果
- 响应式缩放和平移
- 撤销/重做操作支持
- 实时属性面板更新

### 📊 数据可视化
- 状态机统计信息显示
- 状态列表和属性面板
- 操作历史记录追踪
- 实时数据更新

## 使用方法

### 快速开始
1. 在浏览器中打开 `index.html` 文件
2. 界面将自动加载示例状态机
3. 开始编辑和探索功能

### 基本操作

#### 创建状态
- 点击左侧工具栏的"添加状态"按钮
- 或在画布空白处双击创建新状态

#### 编辑状态
- 双击状态节点打开编辑对话框
- 修改状态名称、设置初始/终止状态
- 选择状态节点颜色

#### 创建转换
1. 点击"添加转换"按钮进入转换模式
2. 依次点击源状态和目标状态
3. 系统将自动创建转换关系

#### 编辑转换
- 双击转换线条打开编辑对话框
- 修改事件名称和触发条件

#### 模拟运行
1. 点击"模拟运行"按钮开始模拟
2. 在右侧面板输入事件名称
3. 点击"触发事件"执行状态转换

### 高级功能

#### 画布操作
- **缩放**：使用鼠标滚轮或顶部缩放按钮
- **平移**：拖拽画布空白区域
- **适应屏幕**：点击适应屏幕按钮重置视图

#### 历史操作
- **撤销**：Ctrl+Z 或点击撤销按钮
- **重做**：Ctrl+Y 或点击重做按钮
- **重置**：清空所有状态和转换

#### 数据导出
- 点击"导出"按钮将状态机保存为JSON文件
- 包含完整的状态、转换和元数据信息

## 技术实现

### 技术栈
- **HTML5**：语义化标记和现代Web标准
- **TailwindCSS 3.0+**：实用优先的CSS框架
- **JavaScript ES6+**：现代JavaScript特性
- **Font Awesome**：专业图标库
- **SVG**：矢量图形绘制

### 架构设计
- 面向对象的JavaScript类设计
- 事件驱动的交互模型
- 模块化的功能组织
- 响应式的UI布局

### 核心类：StateMachineEditor
```javascript
class StateMachineEditor {
    constructor() {
        this.states = new Map();      // 状态集合
        this.transitions = [];        // 转换集合
        this.history = [];           // 操作历史
        // ... 其他属性
    }
    
    // 核心方法
    addState(x, y)              // 添加状态
    addTransition(from, to)     // 添加转换  
    startSimulation()           // 开始模拟
    exportStateMachine()        // 导出数据
    // ... 其他方法
}
```

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 文件结构

```
StateMachineEditor/
├── index.html              # 主页面文件
├── js/
│   └── StateMachineEditor.js  # 核心JavaScript代码
├── src/                    # 源代码目录
│   ├── HierarchicalStateMachine.ts
│   └── StateMachine.ts
└── README.md              # 项目说明文档
```

## 开发计划

### 下一步功能
- [ ] 分层状态机支持
- [ ] 状态机模板库
- [ ] 多种导出格式（PNG、PDF、SVG）
- [ ] 协作编辑功能
- [ ] 插件系统

### 优化改进
- [ ] 性能优化
- [ ] 移动端适配
- [ ] 国际化支持
- [ ] 主题定制

## 许可证

MIT License - 详见 LICENSE 文件

## 贡献指南

欢迎提交问题和功能请求！请遵循以下步骤：

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues
- Email: [您的邮箱]

---

*这个状态机编辑器为用户提供了一个直观、高效的工具，用于设计、分析和实现各种状态机系统，无论是简单的UI状态管理还是复杂的业务流程控制。* 