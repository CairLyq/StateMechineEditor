# StateMachineEditor - å¯è§†åŒ–çŠ¶æ€æœºç¼–è¾‘å™¨

<div align="center">

![StateMachineEditor Logo](https://via.placeholder.com/128x128/4CAF50/FFFFFF?text=SM)

**ä¸€ä¸ªç°ä»£åŒ–çš„WebçŠ¶æ€æœºå¯è§†åŒ–ç¼–è¾‘å™¨**

[![GitHub Stars](https://img.shields.io/github/stars/CairLyq/StateMechineEditor?style=flat-square)](https://github.com/CairLyq/StateMechineEditor/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/CairLyq/StateMechineEditor?style=flat-square)](https://github.com/CairLyq/StateMechineEditor/network)
[![GitHub Issues](https://img.shields.io/github/issues/CairLyq/StateMechineEditor?style=flat-square)](https://github.com/CairLyq/StateMechineEditor/issues)
[![License](https://img.shields.io/github/license/CairLyq/StateMechineEditor?style=flat-square)](https://github.com/CairLyq/StateMechineEditor/blob/main/LICENSE)

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

</div>

## ğŸš€ åœ¨çº¿æ¼”ç¤º

ğŸ“ **[åœ¨çº¿ä½“éªŒ](https://cairlyq.github.io/StateMechineEditor/)** - æ— éœ€å®‰è£…ï¼Œå³å¼€å³ç”¨

## ğŸ“– é¡¹ç›®ç®€ä»‹

StateMachineEditor æ˜¯ä¸€ä¸ªä¸“ä¸šçº§çš„çŠ¶æ€æœºå¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œæä¾›ç›´è§‚çš„å›¾å½¢ç•Œé¢æ¥è®¾è®¡å’Œç®¡ç†æœ‰é™çŠ¶æ€æœºã€‚é‡‡ç”¨ç°ä»£WebæŠ€æœ¯æ„å»ºï¼Œæ”¯æŒå®æ—¶æ¨¡æ‹Ÿã€æ•°æ®å¯¼å…¥å¯¼å‡ºç­‰ä¸°å¯ŒåŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - Material Designé£æ ¼ï¼Œæ·±è‰²ä¸»é¢˜ï¼Œä¸“ä¸šç½‘æ ¼èƒŒæ™¯
- ğŸ–±ï¸ **ç›´è§‚äº¤äº’** - æ‹–æ‹½åˆ›å»ºï¼Œå³é”®è¿çº¿ï¼Œæ™ºèƒ½å¸ƒå±€
- âš¡ **å®æ—¶æ¨¡æ‹Ÿ** - å†…ç½®çŠ¶æ€æœºæ¨¡æ‹Ÿå™¨ï¼Œæ”¯æŒäº‹ä»¶è§¦å‘å’ŒçŠ¶æ€è¿½è¸ª
- ğŸ’¾ **æ•°æ®ç®¡ç†** - æ”¯æŒå¯¼å…¥/å¯¼å‡ºJSONæ ¼å¼ï¼Œå®Œæ•´é¡¹ç›®ä¿å­˜
- ğŸ”„ **æ™ºèƒ½è¿çº¿** - è‡ªåŠ¨æ£€æµ‹åŒå‘è¿çº¿ï¼Œå¹³è¡Œå¸ƒå±€ï¼Œé¿å…é‡å 
- ğŸ¯ **ç”¨æˆ·å‹å¥½** - æ’¤é”€/é‡åšï¼Œå¿«æ·é”®æ”¯æŒï¼Œå±æ€§é¢æ¿å®æ—¶æ›´æ–°

## ğŸ› ï¸ å®‰è£…ä½¿ç”¨

### æ–¹å¼ä¸€ï¼šç›´æ¥ä¸‹è½½

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/CairLyq/StateMechineEditor.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd StateMechineEditor

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ index.html
open index.html
```

### æ–¹å¼äºŒï¼šåœ¨çº¿ä½¿ç”¨

ç›´æ¥è®¿é—® [åœ¨çº¿æ¼”ç¤º](https://cairlyq.github.io/StateMechineEditor/) å³å¯ä½¿ç”¨ï¼Œæ— éœ€æœ¬åœ°å®‰è£…ã€‚

### æ–¹å¼ä¸‰ï¼šæœ¬åœ°æœåŠ¡å™¨

```bash
# ä½¿ç”¨Pythonå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
python -m http.server 8000

# æˆ–ä½¿ç”¨Node.js
npx serve .

# è®¿é—® http://localhost:8000
```

## ğŸ“± åŠŸèƒ½æ¼”ç¤º

### ğŸ¨ ç•Œé¢å±•ç¤º

- **æ·±è‰²ä¸»é¢˜è®¾è®¡**ï¼šä¸“ä¸šçš„è§†è§‰ä½“éªŒï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³
- **ç½‘æ ¼èƒŒæ™¯**ï¼šç²¾ç¡®å®šä½ï¼Œä¸“ä¸šåˆ¶å›¾ç¯å¢ƒ
- **é«˜å¯¹æ¯”åº¦**ï¼šè‡ªé€‚åº”æ–‡å­—é¢œè‰²ï¼Œç¡®ä¿æœ€ä½³å¯è¯»æ€§
- **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸

### ğŸ–±ï¸ äº¤äº’æ“ä½œ

#### åˆ›å»ºçŠ¶æ€
- ç‚¹å‡»"æ·»åŠ çŠ¶æ€"æŒ‰é’®
- åŒå‡»ç”»å¸ƒç©ºç™½å¤„
- æ”¯æŒåœ†å½¢èŠ‚ç‚¹ï¼ŒåŠ¨æ€è°ƒæ•´å¤§å°

#### è¿æ¥çŠ¶æ€
- **ä¼ ç»Ÿæ¨¡å¼**ï¼šç‚¹å‡»"æ·»åŠ è½¬æ¢"æŒ‰é’®ï¼Œä¾æ¬¡é€‰æ‹©çŠ¶æ€
- **å³é”®æ¨¡å¼**ï¼šå³é”®çŠ¶æ€â†’"å¼€å§‹è¿çº¿"â†’ç‚¹å‡»ç›®æ ‡çŠ¶æ€
- **æ™ºèƒ½å¸ƒå±€**ï¼šè‡ªåŠ¨è¯†åˆ«åŒå‘è¿çº¿ï¼Œå®ç°å¹³è¡Œå¸ƒå±€

#### ç¼–è¾‘å…ƒç´ 
- åŒå‡»çŠ¶æ€/è½¬æ¢è¿›è¡Œç¼–è¾‘
- å±æ€§é¢æ¿å®æ—¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- æ”¯æŒé¢œè‰²è‡ªå®šä¹‰ã€åˆå§‹/ç»ˆæ­¢çŠ¶æ€è®¾ç½®

### âš¡ æ¨¡æ‹ŸåŠŸèƒ½

```javascript
// æ¨¡æ‹Ÿæ§åˆ¶
1. è®¾ç½®åˆå§‹çŠ¶æ€ï¼ˆç»¿è‰²åœ†ç¯æ ‡è¯†ï¼‰
2. ç‚¹å‡»"æ¨¡æ‹Ÿè¿è¡Œ"å¼€å§‹
3. è¾“å…¥äº‹ä»¶åç§°ï¼Œè§¦å‘çŠ¶æ€è½¬æ¢
4. å®æ—¶é«˜äº®å½“å‰çŠ¶æ€
5. è‡ªåŠ¨æ£€æµ‹ç»ˆæ­¢çŠ¶æ€
```

### ğŸ’¾ æ•°æ®ç®¡ç†

- **å¯¼å‡ºåŠŸèƒ½**ï¼šä¿å­˜ä¸ºJSONæ ¼å¼ï¼ŒåŒ…å«å®Œæ•´çŠ¶æ€æœºæ•°æ®
- **å¯¼å…¥åŠŸèƒ½**ï¼šåŠ è½½å·²ä¿å­˜çš„çŠ¶æ€æœºæ–‡ä»¶
- **æ•°æ®æ ¼å¼**ï¼šæ ‡å‡†åŒ–JSONç»“æ„ï¼Œæ”¯æŒç‰ˆæœ¬å…¼å®¹

```json
{
  "states": [
    {
      "id": "state_0",
      "name": "åˆå§‹çŠ¶æ€",
      "x": 200,
      "y": 150,
      "isInitial": true,
      "isFinal": false,
      "color": "#4caf50"
    }
  ],
  "transitions": [
    {
      "id": "transition_123",
      "from": "state_0",
      "to": "state_1",
      "event": "start",
      "condition": ""
    }
  ],
  "metadata": {
    "created": "2024-01-01T00:00:00.000Z",
    "version": "1.0.0",
    "name": "çŠ¶æ€æœºå¯¼å‡º"
  }
}
```

## ğŸ® ä½¿ç”¨æŒ‡å—

### åŸºç¡€æ“ä½œ

| æ“ä½œ | æ–¹æ³• | å¿«æ·é”® |
|------|------|--------|
| åˆ›å»ºçŠ¶æ€ | åŒå‡»ç”»å¸ƒ / ç‚¹å‡»æŒ‰é’® | - |
| ç§»åŠ¨çŠ¶æ€ | æ‹–æ‹½çŠ¶æ€èŠ‚ç‚¹ | - |
| è¿æ¥çŠ¶æ€ | å³é”®èœå• / è½¬æ¢æ¨¡å¼ | - |
| åˆ é™¤å…ƒç´  | é€‰ä¸­åæŒ‰åˆ é™¤é”® | `Delete` / `Backspace` |
| æ’¤é”€æ“ä½œ | ç‚¹å‡»æ’¤é”€æŒ‰é’® | `Ctrl+Z` |
| é‡åšæ“ä½œ | ç‚¹å‡»é‡åšæŒ‰é’® | `Ctrl+Y` |
| ç¼©æ”¾ç”»å¸ƒ | é¼ æ ‡æ»šè½® / ç¼©æ”¾æŒ‰é’® | æ»šè½® |
| å¹³ç§»ç”»å¸ƒ | æ‹–æ‹½ç©ºç™½åŒºåŸŸ | é¼ æ ‡æ‹–æ‹½ |

### é«˜çº§åŠŸèƒ½

#### ğŸ”„ æ™ºèƒ½è¿çº¿ç³»ç»Ÿ
- **åŒå‘è¿çº¿æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«åå‘è¿çº¿ï¼Œå®ç°å¹³è¡Œå¸ƒå±€
- **è‡ªå¾ªç¯æ”¯æŒ**ï¼šçŠ¶æ€å¯ä»¥è¿æ¥åˆ°è‡ªèº«ï¼Œå½¢æˆè‡ªå¾ªç¯
- **è§†è§‰ä¼˜åŒ–**ï¼šè¿çº¿ä½¿ç”¨é‡‘é»„è‰²ä¸»é¢˜ï¼Œé«˜å¯¹æ¯”åº¦æ˜¾ç¤º

#### ğŸ¯ å³é”®è¿çº¿æ¨¡å¼
1. å³é”®ç‚¹å‡»èµ·å§‹çŠ¶æ€
2. é€‰æ‹©"å¼€å§‹è¿çº¿"
3. å‡ºç°é‡‘è‰²è™šçº¿é¢„è§ˆ
4. ç‚¹å‡»ç›®æ ‡çŠ¶æ€å®Œæˆè¿çº¿
5. æŒ‰ `Esc` å–æ¶ˆè¿çº¿

#### ğŸ“Š å®æ—¶ç»Ÿè®¡
- çŠ¶æ€æ•°é‡ç»Ÿè®¡
- è½¬æ¢æ•°é‡ç»Ÿè®¡
- æ“ä½œå†å²è®°å½•
- æ¨¡æ‹ŸçŠ¶æ€è·Ÿè¸ª

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**ï¼šåŸç”ŸJavaScript ES6+
- **UIæ¡†æ¶**ï¼šTailwindCSS 3.4+
- **å›¾æ ‡åº“**ï¼šFont Awesome 6.4
- **åŠ¨ç”»åº“**ï¼šFramer Motionï¼ˆå¯é€‰ï¼‰
- **ç»˜å›¾æŠ€æœ¯**ï¼šSVG + Canvas

### æ ¸å¿ƒæ¶æ„

```javascript
class StateMachineEditor {
    constructor() {
        // æ ¸å¿ƒæ•°æ®
        this.states = new Map();           // çŠ¶æ€é›†åˆ
        this.transitions = [];             // è½¬æ¢é›†åˆ
        this.selectedElement = null;       // å½“å‰é€‰ä¸­å…ƒç´ 
        
        // äº¤äº’çŠ¶æ€
        this.zoom = 1;                     // ç¼©æ”¾çº§åˆ«
        this.panX = 0; this.panY = 0;     // å¹³ç§»åç§»
        this.connectionMode = {};          // è¿çº¿æ¨¡å¼çŠ¶æ€
        
        // æ¨¡æ‹Ÿæ§åˆ¶
        this.isSimulating = false;        // æ¨¡æ‹ŸçŠ¶æ€
        this.currentState = null;          // å½“å‰çŠ¶æ€
        
        // å†å²ç®¡ç†
        this.history = [];                 // æ“ä½œå†å²
        this.historyIndex = -1;           // å†å²ç´¢å¼•
    }
    
    // æ ¸å¿ƒæ–¹æ³•
    addState(x, y)                        // æ·»åŠ çŠ¶æ€
    addTransition(from, to, event)        // æ·»åŠ è½¬æ¢
    updateTransitions()                   // æ›´æ–°è¿çº¿
    startSimulation()                     // å¼€å§‹æ¨¡æ‹Ÿ
    exportStateMachine()                  // å¯¼å‡ºæ•°æ®
    importStateMachine()                  // å¯¼å…¥æ•°æ®
    // ... æ›´å¤šæ–¹æ³•
}
```

### è®¾è®¡æ¨¡å¼
- **è§‚å¯Ÿè€…æ¨¡å¼**ï¼šUIæ›´æ–°å’Œæ•°æ®åŒæ­¥
- **å‘½ä»¤æ¨¡å¼**ï¼šæ’¤é”€/é‡åšåŠŸèƒ½å®ç°
- **çŠ¶æ€æ¨¡å¼**ï¼šæ¨¡æ‹Ÿå™¨çŠ¶æ€ç®¡ç†
- **å·¥å‚æ¨¡å¼**ï¼šçŠ¶æ€å’Œè½¬æ¢å¯¹è±¡åˆ›å»º

## ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | ç‰ˆæœ¬è¦æ±‚ | æ”¯æŒçŠ¶æ€ |
|--------|----------|----------|
| Chrome | 80+ | âœ… å®Œå…¨æ”¯æŒ |
| Firefox | 75+ | âœ… å®Œå…¨æ”¯æŒ |
| Safari | 13+ | âœ… å®Œå…¨æ”¯æŒ |
| Edge | 80+ | âœ… å®Œå…¨æ”¯æŒ |
| IE | - | âŒ ä¸æ”¯æŒ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
StateMachineEditor/
â”œâ”€â”€ ğŸ“„ index.html                    # ä¸»é¡µé¢æ–‡ä»¶
â”œâ”€â”€ ğŸ“ js/
â”‚   â””â”€â”€ ğŸ“„ StateMachineEditor.js     # æ ¸å¿ƒJavaScriptä»£ç 
â”œâ”€â”€ ğŸ“ lib/                          # ç¬¬ä¸‰æ–¹åº“
â”‚   â”œâ”€â”€ ğŸ“„ tailwindcss.3.4.16.js    # TailwindCSSæ¡†æ¶
â”‚   â”œâ”€â”€ ğŸ“„ font-awesome.6.4.0.css   # å›¾æ ‡åº“
â”‚   â””â”€â”€ ğŸ“„ framer-motion.js          # åŠ¨ç”»åº“
â”œâ”€â”€ ğŸ“ src/                          # TypeScriptæºç 
â”‚   â”œâ”€â”€ ğŸ“„ HierarchicalStateMachine.ts
â”‚   â””â”€â”€ ğŸ“„ StateMachine.ts
â”œâ”€â”€ ğŸ“„ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ debug-instructions.md         # è°ƒè¯•è¯´æ˜
â””â”€â”€ ğŸ“„ test.html                     # æµ‹è¯•é¡µé¢
```

## ğŸš§ å¼€å‘è·¯çº¿å›¾

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] åŸºç¡€çŠ¶æ€æœºç¼–è¾‘
- [x] å¯è§†åŒ–ç•Œé¢è®¾è®¡
- [x] æ‹–æ‹½äº¤äº’åŠŸèƒ½
- [x] å³é”®è¿çº¿æ¨¡å¼
- [x] å®æ—¶æ¨¡æ‹ŸåŠŸèƒ½
- [x] å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- [x] æ’¤é”€é‡åšç³»ç»Ÿ
- [x] å“åº”å¼å¸ƒå±€
- [x] æ·±è‰²ä¸»é¢˜ç•Œé¢
- [x] æ™ºèƒ½è¿çº¿ç³»ç»Ÿ

### ğŸ”„ è¿›è¡Œä¸­
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] å•å…ƒæµ‹è¯•

### ğŸ“‹ è®¡åˆ’åŠŸèƒ½
- [ ] åˆ†å±‚çŠ¶æ€æœºæ”¯æŒ
- [ ] çŠ¶æ€æœºæ¨¡æ¿åº“
- [ ] å¤šç§å¯¼å‡ºæ ¼å¼ï¼ˆPNGã€PDFã€SVGï¼‰
- [ ] åä½œç¼–è¾‘åŠŸèƒ½
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] ä¸»é¢˜å®šåˆ¶
- [ ] ä»£ç ç”Ÿæˆå™¨

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### ğŸ› æŠ¥å‘Šé—®é¢˜
1. æŸ¥çœ‹ [å·²çŸ¥é—®é¢˜](https://github.com/CairLyq/StateMechineEditor/issues)
2. åˆ›å»ºè¯¦ç»†çš„é—®é¢˜æŠ¥å‘Š
3. æä¾›å¤ç°æ­¥éª¤å’Œç¯å¢ƒä¿¡æ¯

### ğŸ’¡ æäº¤åŠŸèƒ½è¯·æ±‚
1. è¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚
2. è¯´æ˜ä½¿ç”¨åœºæ™¯å’Œä»·å€¼
3. æä¾›è®¾è®¡å»ºè®®ï¼ˆå¯é€‰ï¼‰

### ğŸ”§ ä»£ç è´¡çŒ®
```bash
# 1. Fork é¡¹ç›®
git clone https://github.com/YOUR_USERNAME/StateMechineEditor.git

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/amazing-feature

# 3. æäº¤æ›´æ”¹
git commit -m "Add amazing feature"

# 4. æ¨é€åˆ°åˆ†æ”¯
git push origin feature/amazing-feature

# 5. åˆ›å»º Pull Request
```

### ğŸ“ ä»£ç è§„èŒƒ
- ä½¿ç”¨ES6+è¯­æ³•
- éµå¾ªé©¼å³°å‘½åæ³•
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ä¿æŒä»£ç ç®€æ´æ¸…æ™°

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](https://github.com/CairLyq/StateMechineEditor/blob/main/LICENSE) è®¸å¯è¯ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [@CairLyq](https://github.com/CairLyq)
- **é¡¹ç›®åœ°å€**: [StateMechineEditor](https://github.com/CairLyq/StateMechineEditor)
- **åœ¨çº¿æ¼”ç¤º**: [GitHub Pages](https://cairlyq.github.io/StateMechineEditor/)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/CairLyq/StateMechineEditor/issues)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š

- [TailwindCSS](https://tailwindcss.com/) - ä¼˜ç§€çš„CSSæ¡†æ¶
- [Font Awesome](https://fontawesome.com/) - ä¸“ä¸šçš„å›¾æ ‡åº“
- [MDN Web Docs](https://developer.mozilla.org/) - ä¼˜ç§€çš„æŠ€æœ¯æ–‡æ¡£

## â­ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª Star â­

[![Star History Chart](https://api.star-history.com/svg?repos=CairLyq/StateMechineEditor&type=Date)](https://star-history.com/#CairLyq/StateMechineEditor&Date)

---

<div align="center">

**è®©çŠ¶æ€æœºè®¾è®¡å˜å¾—ç®€å•è€Œä¼˜é›…** âœ¨

Made with â¤ï¸ by [CairLyq](https://github.com/CairLyq)

</div> 